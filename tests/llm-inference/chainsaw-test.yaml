apiVersion: chainsaw.kyverno.io/v1alpha1
kind: Test
metadata:
  name: llm-inference
spec:
  steps:
    - try:
        - apply:
            file: 00-install.yaml
        - assert:
            file: 00-assert.yaml
        - apply:
            file: 01-apply.yaml
        - patch:
            file: 01-patch.yaml
        - assert:
            file: 01-assert.yaml
      catch:
        - describe:
            apiVersion: inference.devopstoolkit.ai/v1alpha1
            kind: LLMInference
        - get:
            apiVersion: kubernetes.m.crossplane.io/v1alpha1
            kind: Object
        - events: {}
